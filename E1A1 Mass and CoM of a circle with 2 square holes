#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <math.h>

int main ()
{
	double r=3.0, density=0.0, ran=0.0, mass=0.0 ;
	double dist=6.0,seed=0.0, sum=0.0, sum2=0.0, x=0.0, y=0.0;
	int i, Ntoy, hit=0;

srand(time(NULL));
ran=(((double)rand()/(double)RAND_MAX) * 6.0)-3;
printf(" Please provide the number of iterations \n");
scanf(" %d \n",&Ntoy);
printf("Number of iterations is %d",Ntoy);

for(i=0;i<Ntoy+1;i++)
{
x=ran;
ran=(((double)rand()/(double)RAND_MAX) * 6.0)-3;
y=ran;
	if (x*x+y*y<=9.0) 
	{	
		if ((x>=1.0 || x<=-1.0) || (y>=1.0 || y<=-1.0))
    	{  
			if ((x>=-1.5 || x<=-2.5) || (y>=0.5 || y<=-0.5)) 
			{   density=1+sqrt((x*x+y*y));
				sum=sum+density;
			    sum2=sum2+density*density;
			}
		}
	}
ran=(((double)rand()/(double)RAND_MAX) * 6.0)-3;
}

sum=sum/Ntoy ;
sum2=sum2/Ntoy;

double esum=0.0, emass=0.0;
esum=sqrt((sum2-sum*sum))/Ntoy;
mass=sum*dist;
emass=esum*dist; 
printf(" Mass=%lf +- %lf \n",mass,emass);
return 0;
}
